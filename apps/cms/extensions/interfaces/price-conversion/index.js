import{defineInterface as e}from"@directus/extensions-sdk";import{ref as n,defineComponent as r,resolveComponent as t,openBlock as u,createBlock as o}from"vue";var a;function i(e,n){if(!e)throw new Error("[Dinero.js] ".concat(n))}function c(e){return e}function l(e){var n=function(e){return function(){for(var n,r=arguments.length,t=new Array(r),u=0;u<r;u++)t[u]=arguments[u];var o=t[0],a=t[1],i=(null==a?void 0:a.round)||c,l=o.toJSON(),s=l.amount,f=l.currency,d=l.scale,m=e.power,v=e.toNumber,p=v(m(f.base,d)),h=v(m(f.base,null!==(n=null==a?void 0:a.digits)&&void 0!==n?n:d));return i(v(s)/p*h)/h}}(e);return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var u=r[0],o=r[1],a=u.toJSON(),i=a.currency,c=a.scale,l=n(u,{digits:c});return o({amount:l,currency:i,dineroObject:u})}}!function(e){e[e.LT=-1]="LT",e[e.EQ=0]="EQ",e[e.GT=1]="GT"}(a||(a={}));var s=function(e){var n=e.calculator,r=e.onCreate;return function e(t){var u=t.amount,o=t.currency,a=t.scale,i=void 0===a?o.exponent:a;return null==r||r({amount:u,currency:o,scale:i}),{calculator:n,create:e,toJSON:function(){return{amount:u,currency:o,scale:i}}}}}({calculator:{add:function(e,n){return e+n},compare:function(e,n){return e<n?a.LT:e>n?a.GT:a.EQ},decrement:function(e){return e-1},increment:function(e){return e+1},integerDivide:function(e,n){return Math.trunc(e/n)},modulo:function(e,n){return e%n},multiply:function(e,n){return e*n},power:function(e,n){return Math.pow(e,n)},subtract:function(e,n){return e-n},toNumber:function(e){return e},zero:function(){return 0}},onCreate:function(e){var n=e.amount,r=e.scale;i(Number.isInteger(n),"Amount is invalid."),i(Number.isInteger(r),"Scale is invalid.")}}),f=n({code:"USD",base:10,exponent:2}),d=n("en-US");function m(e,n,r){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=n[0],u=n[1];return l(t.calculator)(t,u)}(s({amount:e,currency:n}),(function(e){var n=e.amount,t=e.currency;return n.toLocaleString(r,{style:"currency",currency:t.code})}))}function v(e){if(!e)return 0;if("number"==typeof e)return e;var n=Number.parseInt(e,10);return Number.isNaN(n)?0:n}var p=r({props:{value:{type:String,default:null}},emits:["input"],data:function(e){return{editing:!1,rawValue:v(e.value),formattedValue:m(v(e.value),f.value,d.value)}},updated:function(){this.editing||(this.rawValue=v(this.$props.value),this.formattedValue=m(this.rawValue,f.value,d.value))},methods:{onFocus:function(e){var n=e.target;this.editing=!0,this.formattedValue=function(e,n){return e/Math.pow(n.base,n.exponent)}(this.rawValue,f.value).toLocaleString(d.value,{useGrouping:!1}),setTimeout((function(){return n.select()}),0)},onBlur:function(){var e,n,r,t,u=(e=this.formattedValue,n=d.value,r=.1.toLocaleString(n)[1],t=new RegExp("[^\\d".concat(r,"]"),"g"),e.replace(t,"").replace(r,".")),o=function(e,n){return Math.round(e*Math.pow(n.base,n.exponent))}(Number.parseFloat(u),f.value);Number.isNaN(o)&&(o=0),this.rawValue=o,this.formattedValue=m(o,f.value,d.value),this.$emit("input",o),this.editing=!1}}});p.render=function(e,n,r,a,i,c){const l=t("v-input");return u(),o(l,{modelValue:e.formattedValue,"onUpdate:modelValue":n[0]||(n[0]=n=>e.formattedValue=n),key:e.trigger,onFocus:e.onFocus,onBlur:e.onBlur},null,8,["modelValue","onFocus","onBlur"])},p.__file="src/price.vue";var h=e({id:"price",name:"Price",description:"Price in USDC. For auctions, this is the initial asking price (reserve price).",icon:"attach_money",component:p,types:["integer"],group:"standard",recommendedDisplays:["price"],options:null});export{h as default};
